<style>
	.bar{
		min-height: 10px;
	}

</style>

<script type="text/javascript">

var total = 2000;
var values = [
	{value:105,name:'a'},
	{value:100,name:'b'},
	{value:80,name:'c'},
	{value:50,name:'d'},
	{value:120,name:'e'},
	{value:200,name:'f'},
	{value:120,name:'g'},
	{value:70,name:'h'},
	{value:750,name:'i'}
	];


function gauge(values, total){

	var width = 100; 
	var height = 400;
	var topmargin = 40;

	var sum_values = d3.sum(values, function(d) {return d.value; });

	var y = d3.scale.linear().domain([total,0]).range([height, 0]);

	var canvas = d3.select("body").selectAll('div.gauge').append("svg")
	.attr("width", width)
	.attr("height", height);

	var bar = canvas.selectAll(".bar")
	.data(sum_values)
	.enter()
	.append("g")
	.attr("class", "bar");

	bar.append("rect")
	.attr("x", 0 )
	.attr("y", height-y(sum_values))
	.attr("width", width)
	.attr("height", y(sum_values))
	.attr("fill", "steelblue");

}



function histogram(values){
	
	var width = 800; 
	var height = 400;
	var topmargin = 40;

	var x = d3.scale.linear().domain([0, width]).range([0, width]);
	var y = d3.scale.linear().domain([d3.max(values, function(d) { return d.value; }),0]).range([height-topmargin, 0]);

	var canvas = d3.select("body").selectAll('div.ddd').append("svg")
	.attr("width", width)
	.attr("height", height);

	var bars = canvas.selectAll(".bar")
	.data(values)
	.enter()
	.append("g")
	.attr("class", "bar");

	bars.append("rect")
	.attr("x", function(d,i){ return i*(width/values.length); })
	.attr("y", function(d){ return height-y(d.value); })
	.attr("width", width/values.length - 10)
	.attr("height", function(d){ return y(d.value); })
	.attr("fill", "steelblue");

	bars.append("text")
	.attr("x", function(d,i){ return i*(width/values.length); })
	.attr("y", height)
	.attr("width", width/values.length)
	.attr("height", 30)
	.attr("text", function(d){ return d.name});
}


gauge(values,total);
histogram(values);





// var map = values.map(function(d){ return d.value; });
// //number of beans
// var bins = 5;

// var histogram = d3.layout.histogram().bins(bins)(map);

// console.log(histogram);

// var width=800; 
// var height=400;
// var topmargin = 40;

// var x = d3.scale.linear().domain([0, width]).range([0, width]);
// var y = d3.scale.linear().domain([0, d3.max(histogram, function(d) { return d.y; })]).range([height-topmargin, 0]);

// var canvas = d3.select("body").selectAll('div.ddd').append("svg")
//                .attr("width", width)
//                .attr("height", height)
//                .attr("transform", "translate(50, 50)")

// var bars = canvas.selectAll(".bar")
//                  .data(histogram)
//                  .enter()
//                  .append("g")
//                  .attr("class", "bar");

// bars.append("rect")
//     .attr("x", function(d){ return x(d.x); })
//     .attr("y", function(d){ return height - y(d.y); })
//     .attr("width", function(d){ return d.dx-5; })
//     .attr("height", function(d){ return y(d.y); })
//     .attr("fill", "steelblue");

// bars.append("text")
//     .attr("x", function(d){ return x(d.x); })
//     .attr("y", function(d){ return height - y(d.y); })
//     .attr("width", function(d){ return d.dx-5; })
//     .text('sdfsdsfd');


</script>

<div id="sacred">
	<div class="container">

		<div ng-include src="'views/parts/global/header.html'"></div>

		<div class="page sacred-bi-page">

			<div class="page-header">
				<div class="row">
					<div class="col-10">
						<div class="title">An√°lise de Desempenho - Equipe</div>
					</div>
					<div class="col-14">
						<div class="btn-group pull-right page-button" ng-init="ol='dashboard'">
							<a class="btn btn-option" ng-class="{active: ol=='demo'}" ng-click="ol='demo'">Demostrativo</a>
							<a class="btn btn-option" ng-class="{active: ol=='dashboard'}" ng-click="ol='orders'">Dashboard</a>	
						</div>
					</div>
				</div>
			</div>

			<div class="page-body">
				<div class="col-24">
					<div class="col-4">
						<div class="gauge">

						</div>
					</div>
					<div class="col-20">
						
						<div class="ddd">

						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
</div>