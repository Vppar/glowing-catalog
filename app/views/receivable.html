<div class="container receivable-page">

    <!-- HEADER -->
	<div class="row-fluid">
        <span class="span12"><span ng-include src="'views/parts/global/header.html'"></span></span>
    </div>

    <div class="new-page"> 
		<div class="new-header row-fluid">
	        <div class="span6">
	            <div class="title">Contas a receber {{header.description}}</div>
	        </div>
	        <span class="span6">
		        <div class="btn-group btn-group-sm pull-right">
	       			<a class="btn btn-option" ng-class="{active: selectedReceivableMode=='listOpen'}" ng-click="selectReceivableMode('listOpen')">A Receber</a>
	        		<a class="btn btn-option" ng-class="{active: selectedReceivableMode=='listClosed'}"  ng-click="selectReceivableMode('listClosed')">Recebidos</a>
	        	</div>
    		</span>
		</div>

		<div ng-show="selectedReceivable">
	 	  	<div>
	  	 		<div ng-controller="ReceivableReceiveCtrl" ng-include src="'views/parts/receivable/receivable-receive.html'"></div>
			</div>
		</div>

		<div class="row-fluid receivable-body" ng-controller="ReceivableListCtrl">
			<div class="span12">
		    	<div class="new-calendar">
		            <div class="text-over">Data Inicial</div>
	        	    <input id="dtIni" type="text" placeholder="" ng-disabled="dtIniDisabled" show-weeks="false" datepicker-popup="dd/MM/yyyy" class="date-field input-small w75" required readonly maxlength="10" ng-model="dtFilter.dtInitial">
		            <label for="dtIni" class="ic-calendar">
		                <img src="images/icons/ic-calendar.png">
		            </label>
		        </div>
		        <div class="new-calendar">
		            <div class="text-over">Data Final</div>
		            <input id="dtFinal" type="text" placeholder="" show-weeks="false" datepicker-popup="dd/MM/yyyy" class="date-field input-small w75" required readonly maxlength="10" ng-model="dtFilter.dtFinal">
		            <label for="dtFinal" class="ic-calendar">
		                <img src="images/icons/ic-calendar.png">
		            </label>
		        </div>
		        <form  class="inline-checkbox">
		           <fieldset>
			            <label class="checkbox" ng-hide="selectedReceivableMode==='listClosed'">
			                <input type="checkbox" ng-model="allOpenReceivables" ng-true-value="true" ng-false-value="false"> todos em aberto até {{ dtFilter.dtFinal | date:"dd/MM/yyyy"}}
			            </label>
		       		</fieldset>
		    	</form>
			</div>
			<div class="row-fluid">
		    	<div class="new-body-header">
			        <div class="new-col-3 text-center">Item</div>
			        <div class="new-col-3 text-center">Emissão</div>
			        <div class="new-col-7">Conta</div>
			        <div class="new-col-3">Docto / Nro</div>
			        <div class="new-col-2 text-center">Parcela</div>
			        <div class="new-col-3 text-center" ng-if="selectedReceivableMode=='listOpen'">Vencimento</div>
			        <div class="new-col-3 text-center" ng-if="selectedReceivableMode=='listClosed'">Recebido em</div>
			        <div class="new-col-3 currency">Valor</div>
			    </div>
			</div>
			<div class="new-scrollpanel" ng-class="{'page-open-details' : selectedReceivable, 'page-closed-details' : !selectedReceivable, 'page-open-check-details' : false }">
<!-- 				Removed on 03/04/2014 16:01 by Arnaldo attending a Wesley's request -->
<!-- 			    <div class="row-fluid" ng-repeat="receivable in receivables.list" ng-click="selectReceivable(receivable)"> -->
			    <div class="row-fluid" ng-repeat="receivable in receivables.list">
			        <div class="span12">
			            <div class="new-body-row" ng-class="{'row-selected': selectedReceivable.uuid==receivable.uuid}">
			                <div class="new-col-3 text-center">{{$index + 1}}</div>
			                <div class="new-col-3 text-center">{{receivable.created | date:"dd/MM/yyyy"}}</div>

			                <div class="new-col-7">
			                    <div><b>{{receivable.accountName}}</b></div>
			                    <small>{{receivable.entityName}}</small>
			                </div>

			                <div class="new-col-3">
			                    <div><b>{{receivable.document}}</b></div>
			                    <small>{{receivable.uuidCode}}</small>
			                </div>

			                <div class="new-col-2 text-center">{{receivable.installment}} de {{receivable.numberOfInstallment}}</div>

			                <div class="new-col-3 text-center" ng-if="selectedReceivableMode=='listOpen'">{{ receivable.duedate | date:"dd/MM/yyyy"}}</div>
			                
			                <div class="new-col-3 text-center" ng-if="selectedReceivableMode=='listClosed'">{{ receivable.liquidated | date:"dd/MM/yyyy"}}</div>

			                <div class="new-col-3 currency">{{receivable.amount | currency:''}}</div> 

			            </div>
			        </div>
			    </div>
			</div>
		</div>
	</div>
</div>