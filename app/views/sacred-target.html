<div id="sacred">
	<div class="container">

		<div ng-include src="'views/parts/global/header.html'"></div>

		<div class="page sacred-target-page">

			<div class="page-header">
				<div class="row">
					<div class="col-10">
						<div class="title">Cadastro de Meta</div>
					</div>
				</div>
			</div>

			<div class="page-body">
				<div class="content">


					<div class="content-header">
						<div class="row">
							<div class="col-8">
								<label>Título</label>
								<input type="text" class="input-header" placeholder="" ng-model="targetName">
							</div>

							<div class="col-8">
								<div class="calendar">
									<div class="text-over">Data Inicial</div>
									<input id="dtIni" type="text" placeholder="" show-weeks="false" datepicker-popup="dd/MM/yyyy" max="dtFilter.dtFinal" required readonly maxlength="10" ng-model="dtFilter.dtInitial">
									<label for="dtIni" class="ic-calendar">
										<img src="images/icons/ic-calendar-pink.png">
									</label>
								</div>
								<div class="calendar">
									<div class="text-over">Data Final</div>
									<input id="dtFinal" type="text" placeholder="" show-weeks="false" datepicker-popup="dd/MM/yyyy" min="minDate" maxlength="10" ng-model="dtFilter.dtFinal" required readonly>
									<label for="dtFinal" class="ic-calendar">
										<img src="images/icons/ic-calendar-pink.png">
									</label>
								</div>
							</div>

							<div class="col-4">
								<label>Valor Total</label>
								<input type="text" class="input-header" ng-model="targetValue" placeholder="1234567890" currency ng-show="selectedOptionId==='1'">
                                <input type="text" class="input-header" ng-model="targetValue" placeholder="1234567890" ng-hide="selectedOptionId==='1'">
							</div>

							<div class="col-4">
								<select ui-select2 tnt-select2 class='without-label' data-placeholder="Selecione" ng-model="selectedOptionId">
                                    <option value="" ng-hide="true"></option>
                                    <option value="{{targetOptions[0].id}}">{{targetOptions[0].describe}}</option>
                                    <option value="{{targetOptions[1].id}}">{{targetOptions[1].describe}}</option>
                                    <option value="{{targetOptions[2].id}}">{{targetOptions[2].describe}}</option>
								</select>
							</div>

						</div>
					</div>
					<div class="content-body content-for-labeled-header">
						<div class="grid">

							<div class="grid-header">
								<div class="row">
									<div class="col-8 text-center">Semana(s)</div>
									<div class="col-4">Início</div>
									<div class="col-4">Fim</div>
									<div class="col-4">Valor Semanal</div>
									<div class="col-4">Valor Acumulado</div>
								</div>
							</div>

							<div class="grid-body grid-scroll">
								<div class="grid-item" ng-repeat="target in targetsFinal">
									<div class="row">
										<div class="col-8 text-center">Semana {{$index +1}}</div>
										<div class="col-4">de {{target.initial | date:'dd/MM/yyyy'}}</div>
										<div class="col-4">até {{target.final | date:'dd/MM/yyyy'}}</div>
										<div class="col-4">
											<input type="text" class="input-header" placeholder="" max="targetValue" ng-change="updateValues($index)" ng-model="target.splitAmount" currency ng-show="selectedOptionId==='1'">
                                            <input type="text" class="input-header" placeholder="" max="targetValue" ng-change="updateValues($index)" ng-model="target.splitAmount" ng-hide="selectedOptionId==='1'">
										</div>
										<div class="col-4">
											<div type="text" class="input-header" placeholder="" ng-show="selectedOptionId==='1'">{{target.splitSum | currency:''}}</div>
                                            <div type="text" class="input-header" placeholder="" ng-hide="selectedOptionId==='1'">{{target.splitSum}}</div>
										</div>
									</div>
								</div>
							</div>

							<div class="buttons-holder">
								<input type="button" class="button-black pull-left" ng-click="cancel()" value="Voltar">
								<spinner-button class="button-green pull-right" spinner-promise = "confirm()" type="submit">Confirmar</spinner-button>
							</div>

						</div>
					</div>

				</div>	
			</div>
		</div>
	</div>
</div>