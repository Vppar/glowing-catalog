<div class="content">

	<div class="content-header">
		<div class="row">
			<div class="col-8">
				<label>Título</label>
				<input type="text" class="input-header" placeholder="" ng-model="targetName.name">
			</div>

			<div class="col-8">
				<div class="calendar">
					<div class="text-over">Data Inicial</div>
					<input id="dtIni" type="text" placeholder="" show-weeks="false" datepicker-popup="dd/MM/yyyy" max="dtFilter.dtFinal" required readonly maxlength="10" ng-model="dtFilter.dtInitial">
					<label for="dtIni" class="ic-calendar">
						<img src="images/icons/ic-calendar-pink.png">
					</label>
				</div>
				<div class="calendar">
					<div class="text-over">Data Final</div>
					<input id="dtFinal" type="text" placeholder="" show-weeks="false" datepicker-popup="dd/MM/yyyy" min="minDate" maxlength="10" ng-model="dtFilter.dtFinal" required readonly>
					<label for="dtFinal" class="ic-calendar">
						<img src="images/icons/ic-calendar-pink.png">
					</label>
				</div>
			</div>

			<div class="col-4">
				<label>Valor Total</label>
				<input type="text" class="input-header text-right" ng-model="targetValue.amount" placeholder="" currency ng-show="selectedOptionId.id==='1'"/>
                <input type="text" class="input-header text-right" ng-model="targetValue.amount" placeholder="" number  ng-hide="selectedOptionId.id==='1'"/>
			</div>

			<div class="col-4">
				<select class='without-label' data-placeholder="Selecione" ng-model="selectedOptionId.id">
                    <option value="{{targetOptions[0].id}}">{{targetOptions[0].describe}}</option>
                    <option value="{{targetOptions[1].id}}">{{targetOptions[1].describe}}</option>
                    <option value="{{targetOptions[2].id}}">{{targetOptions[2].describe}}</option>
				</select>
			</div>

		</div>
	</div>
	<div class="content-body content-for-labeled-header">
		<div class="grid">

			<div class="grid-header">
				<div class="row">
					<div class="col-8">Semana(s)</div>
					<div class="col-4">Início</div>
					<div class="col-4">Fim</div>
					<div class="col-4">Valor Semanal</div>
					<div class="col-4 text-right">Valor Acumulado</div>
				</div>
			</div>

			<div class="grid-body grid-scroll">
				<div class="grid-item" ng-repeat="target in targetsFinal">
					<div class="row">
						<div class="col-8">Semana {{$index +1}}</div>
						<div class="col-4">de {{target.initial | date:'dd/MM/yyyy'}}</div>
						<div class="col-4">até {{target.final | date:'dd/MM/yyyy'}}</div>
						<div class="col-4 text-right">
							<input type="text" class="input-header text-right" placeholder="" max="targetValue" ng-change="updateValues($index)" ng-model="target.splitAmount" currency ng-show="selectedOptionId.id==='1'">
                            <input type="text" class="input-header text-right" placeholder="" max="targetValue" ng-change="updateValues($index)" ng-model="target.splitAmount" number ng-hide="selectedOptionId.id==='1'">
						</div>
						<div class="col-4 text-right">
							<div type="text" class="input-header" placeholder="" ng-show="selectedOptionId.id==='1'">{{target.splitSum | currency:''}}</div>
                            <div type="text" class="input-header" placeholder="" ng-hide="selectedOptionId.id==='1'">{{target.splitSum}}</div>
						</div>
					</div>
				</div>
			</div>

			<div class="buttons-holder">
				<input type="button" class="button-black pull-left" ng-click="cancel()" value="Voltar">
				<spinner-button class="button-green pull-right" spinner-promise = "confirm()" type="submit">Confirmar</spinner-button>
			</div>

		</div>
	</div>

</div>