<div class="container-mobile">
	
	<div class="row-fluid">
		<span class="span12"> <span ng-include src="'mobile/views/header.html'"></span></span>
	</div>

    <div swiper="{mode:'horizontal', watchActiveIndex: true, slidePerView: 1}">

        <slider ng-repeat="section in sections" ng-class="{selected: selectedSection == section}" ng-click="selectSection(section)">

            <div class="navbar vpink-catalog-1">
                <div class="navbar-inner">
                    <div class="left"><a href="#" class="back link"><i class="icon icon-back-white"></i></a></div>
                    <div class="center sliding">{{section}}</div>
                    <div class="right"><a href="#" class="forward link"><i class="icon icon-forward-white"></i></a></div>
                </div>
            </div>

            <div swiper-child="{mode:'vertical', watchActiveIndex: true}">

                <slider-child ng-repeat="line in lines">

                    <div class="navbar vpink-catalog-2" ng-class="'bg-'+ line.color">
                        <div class="navbar-inner">
                            <div class="left"></div>
                            <div class="center sliding">{{line.name}}</div>
                            <div class="right">
                                <a href="#" class="back link"><i class="icon icon-back-white down"></i></a>
                                <a href="#" class="forward link"><i class="icon icon-forward-white up"></i></a>
                            </div>
                        </div>
                    </div>

                    <div class="row-fluid" id="{{'cat' + $index}}">
                        <catalog-section line="line" section="selectedSection"></catalog-section>
                    </div>

                </slide-child>

            </div>

            <!-- Deveria ser feito de uma maneira mais... hmmm... certa? :) -->
            <span ng-if="section == 'Mais Vendidos'" ng-include="'views/catalog/sacred-best-sellers.html'"></span>

        </slider>
    </div>

</div>

<script>

    angular.element(document).ready(function () {

        // Workaround for best-sellers
        $('div.bs-product').on('click', function(){var ttt = $(this).children('div').first(); console.log(ttt)});

//        setTimeout(function() {
//            $('.catalog-swiper').find('.swiper-slide').get(1).click();
//        },0);
    });

</script>